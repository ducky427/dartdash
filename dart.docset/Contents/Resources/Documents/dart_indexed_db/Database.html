        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Database class / dart:indexed_db Library / Dart API Reference</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <link rel="stylesheet" type="text/css"
            href="../apidoc-styles.css" />
        
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(["_setAccount", "UA-26406144-9"]);
          _gaq.push(["_trackPageview"]);

          (function() {
            var ga = document.createElement("script");
            ga.type = "text/javascript"; ga.async = true;
            ga.src = ("https:" == document.location.protocol ?
              "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(ga, s);
          })();
        </script>
        
        </head>
        <body data-library="dart:indexed_db" data-type="Database">
        <div class="page">
        <div class="header">
          <a href="http://dartlang.org" ref="external"><div class="logo"></div></a>
          <a href="../index.html">Dart API Reference</a>
         &rsaquo; <a href="../dart_indexed_db.html">dart:indexed_db</a> &rsaquo; <a href="../dart_indexed_db/Database.html">Database</a>        <form action="http://www.dartlang.org/search.html" id="search-box">
          <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="hidden" name="hl" value="en">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </form>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../args.html">args</a></h2><h2><div class="icon-library"></div><a href="../crypto.html">crypto</a></h2><h2><div class="icon-library"></div><a href="../dart_async.html">dart:async</a></h2><h2><div class="icon-library"></div><a href="../dart_chrome.html">dart:chrome</a></h2><h2><div class="icon-library"></div><a href="../dart_collection.html">dart:collection</a></h2><h2><div class="icon-library"></div><a href="../dart_core.html">dart:core</a></h2><h2><div class="icon-library"></div><a href="../dart_html.html">dart:html</a></h2><h2><div class="icon-library"></div><a href="../dart_indexed_db.html">dart:indexed_db</a></h2><ul class="icon">
<li><a href="../dart_indexed_db/Cursor.html"><div class="icon-class"></div>Cursor</a></li>
<li><a href="../dart_indexed_db/CursorWithValue.html"><div class="icon-class"></div>CursorWithValue</a></li>
<li><div class="icon-class"></div><strong>Database</strong></li>
<li><a href="../dart_indexed_db/IdbFactory.html"><div class="icon-class"></div>IdbFactory</a></li>
<li><a href="../dart_indexed_db/Index.html"><div class="icon-class"></div>Index</a></li>
<li><a href="../dart_indexed_db/KeyRange.html"><div class="icon-class"></div>KeyRange</a></li>
<li><a href="../dart_indexed_db/ObjectStore.html"><div class="icon-class"></div>ObjectStore</a></li>
<li><a href="../dart_indexed_db/OpenDBRequest.html"><div class="icon-class"></div>OpenDBRequest</a></li>
<li><a href="../dart_indexed_db/Request.html"><div class="icon-class"></div>Request</a></li>
<li><a href="../dart_indexed_db/Transaction.html"><div class="icon-class"></div>Transaction</a></li>
<li><a href="../dart_indexed_db/VersionChangeEvent.html"><div class="icon-class"></div>VersionChangeEvent</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../dart_io.html">dart:io</a></h2><h2><div class="icon-library"></div><a href="../dart_isolate.html">dart:isolate</a></h2><h2><div class="icon-library"></div><a href="../dart_json.html">dart:json</a></h2><h2><div class="icon-library"></div><a href="../dart_math.html">dart:math</a></h2><h2><div class="icon-library"></div><a href="../dart_mirrors.html">dart:mirrors</a></h2><h2><div class="icon-library"></div><a href="../dart_svg.html">dart:svg</a></h2><h2><div class="icon-library"></div><a href="../dart_typed_data.html">dart:typed_data</a></h2><h2><div class="icon-library"></div><a href="../dart_utf.html">dart:utf</a></h2><h2><div class="icon-library"></div><a href="../dart_web_audio.html">dart:web_audio</a></h2><h2><div class="icon-library"></div><a href="../dart_web_gl.html">dart:web_gl</a></h2><h2><div class="icon-library"></div><a href="../dart_web_sql.html">dart:web_sql</a></h2><h2><div class="icon-library"></div><a href="../fixnum.html">fixnum</a></h2><h2><div class="icon-library"></div><a href="../intl.html">intl</a></h2><h2><div class="icon-library"></div><a href="../logging.html">logging</a></h2><h2><div class="icon-library"></div><a href="../matcher.html">matcher</a></h2><h2><div class="icon-library"></div><a href="../mdv_observe.html">mdv_observe</a></h2><h2><div class="icon-library"></div><a href="../meta.html">meta</a></h2><h2><div class="icon-library"></div><a href="../mock.html">mock</a></h2><h2><div class="icon-library"></div><a href="../serialization.html">serialization</a></h2><h2><div class="icon-library"></div><a href="../source_maps.html">source_maps</a></h2><h2><div class="icon-library"></div><a href="../unittest.html">unittest</a></h2></div>
<div class="content">
        <h2><strong>Database</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
        <div class="mdn">
        <p>The <code>IDBDatabase</code> interface of the IndexedDB&nbsp;API provides asynchronous access to a <a title="en/IndexedDB#database connection" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#database_connection">connection to a database</a>. Use it to create, manipulate, and delete objects in that database. The interface also provides the only way to get a <a title="en/IndexedDB#gloss transaction" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_transaction">transaction</a>&nbsp;and manage versions on that database.</p>
<p>Inherits from: <a title="en/DOM/EventTarget" rel="internal" href="https://developer.mozilla.org/en/DOM/EventTarget">EventTarget</a></p>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
@DocsEditable
@DomName('IDBDatabase')
@SupportedBrowser(SupportedBrowser.CHROME)
@SupportedBrowser(SupportedBrowser.FIREFOX, '15')
@SupportedBrowser(SupportedBrowser.IE, '10')
@Experimental
@Unstable
class Database extends EventTarget native "IDBDatabase" {
 @DomName('IDBDatabase.createObjectStore')
 @DocsEditable
 ObjectStore createObjectStore(String name,
     {String keyPath, bool autoIncrement}) {
   var options = {};
   if (keyPath != null) {
     options['keyPath'] = keyPath;
   }
   if (autoIncrement != null) {
     options['autoIncrement'] = autoIncrement;
   }

   return $dom_createObjectStore(name, options);
 }

 Transaction transaction(storeName_OR_storeNames, String mode) {
   if (mode != 'readonly' &amp;&amp; mode != 'readwrite') {
     throw new ArgumentError(mode);
   }

   // TODO(sra): Ensure storeName_OR_storeNames is a string or List&lt;String&gt;,
   // and copy to JavaScript array if necessary.

   // Try and create a transaction with a string mode.  Browsers that expect a
   // numeric mode tend to convert the string into a number.  This fails
   // silently, resulting in zero ('readonly').
   return _transaction(storeName_OR_storeNames, mode);
 }

 @JSName('transaction')
 Transaction _transaction(stores, mode) native;


 @DomName('IDBDatabase.abortEvent')
 @DocsEditable
 static const EventStreamProvider&lt;Event&gt; abortEvent = const EventStreamProvider&lt;Event&gt;('abort');

 @DomName('IDBDatabase.errorEvent')
 @DocsEditable
 static const EventStreamProvider&lt;Event&gt; errorEvent = const EventStreamProvider&lt;Event&gt;('error');

 @DomName('IDBDatabase.versionchangeEvent')
 @DocsEditable
 static const EventStreamProvider&lt;VersionChangeEvent&gt; versionChangeEvent = const EventStreamProvider&lt;VersionChangeEvent&gt;('versionchange');

 @DomName('IDBDatabase.name')
 @DocsEditable
 final String name;

 @DomName('IDBDatabase.objectStoreNames')
 @DocsEditable
 @Returns('DomStringList')
 @Creates('DomStringList')
 final List&lt;String&gt; objectStoreNames;

 @DomName('IDBDatabase.version')
 @DocsEditable
 @Creates('int|String|Null')
 @Returns('int|String|Null')
 final dynamic version;

 @JSName('addEventListener')
 @DomName('IDBDatabase.addEventListener')
 @DocsEditable
 void $dom_addEventListener(String type, EventListener listener, [bool useCapture]) native;

 @DomName('IDBDatabase.close')
 @DocsEditable
 void close() native;

 @DomName('IDBDatabase.createObjectStore')
 @DocsEditable
 ObjectStore $dom_createObjectStore(String name, [Map options]) {
   if (options != null) {
     var options_1 = convertDartToNative_Dictionary(options);
     return _$dom_createObjectStore_1(name, options_1);
   }
   return _$dom_createObjectStore_2(name);
 }
 @JSName('createObjectStore')
 @DomName('IDBDatabase.createObjectStore')
 @DocsEditable
 ObjectStore _$dom_createObjectStore_1(name, options) native;
 @JSName('createObjectStore')
 @DomName('IDBDatabase.createObjectStore')
 @DocsEditable
 ObjectStore _$dom_createObjectStore_2(name) native;

 @DomName('IDBDatabase.deleteObjectStore')
 @DocsEditable
 void deleteObjectStore(String name) native;

 @DomName('IDBDatabase.dispatchEvent')
 @DocsEditable
 bool dispatchEvent(Event evt) native;

 @JSName('removeEventListener')
 @DomName('IDBDatabase.removeEventListener')
 @DocsEditable
 void $dom_removeEventListener(String type, EventListener listener, [bool useCapture]) native;

 @DomName('IDBDatabase.onabort')
 @DocsEditable
 Stream&lt;Event&gt; get onAbort =&gt; abortEvent.forTarget(this);

 @DomName('IDBDatabase.onerror')
 @DocsEditable
 Stream&lt;Event&gt; get onError =&gt; errorEvent.forTarget(this);

 @DomName('IDBDatabase.onversionchange')
 @DocsEditable
 Stream&lt;VersionChangeEvent&gt; get onVersionChange =&gt; versionChangeEvent.forTarget(this);
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart__interceptors/Interceptor.html">Interceptor</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><a href="../dart_html/EventTarget.html">EventTarget</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>Database</strong></span></p>
<div>
<h3>Static Properties</h3>
<div class="field"><h4 id="abortEvent">
<button class="show-code">Code</button>
const <a href="../dart_html/EventStreamProvider.html">EventStreamProvider</a>&lt;<a href="../dart_html/Event.html">Event</a>&gt;         <strong>abortEvent</strong> <a class="anchor-link"
            href="#abortEvent"
            title="Permalink to Database.abortEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const EventStreamProvider&lt;Event&gt; abortEvent = const EventStreamProvider&lt;Event&gt;('abort')
</pre>
</div>
</div>
<div class="field"><h4 id="errorEvent">
<button class="show-code">Code</button>
const <a href="../dart_html/EventStreamProvider.html">EventStreamProvider</a>&lt;<a href="../dart_html/Event.html">Event</a>&gt;         <strong>errorEvent</strong> <a class="anchor-link"
            href="#errorEvent"
            title="Permalink to Database.errorEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const EventStreamProvider&lt;Event&gt; errorEvent = const EventStreamProvider&lt;Event&gt;('error')
</pre>
</div>
</div>
<div class="field"><h4 id="versionChangeEvent">
<button class="show-code">Code</button>
const <a href="../dart_html/EventStreamProvider.html">EventStreamProvider</a>&lt;<a href="../dart_indexed_db/VersionChangeEvent.html">VersionChangeEvent</a>&gt;         <strong>versionChangeEvent</strong> <a class="anchor-link"
            href="#versionChangeEvent"
            title="Permalink to Database.versionChangeEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const EventStreamProvider&lt;VersionChangeEvent&gt; versionChangeEvent = const EventStreamProvider&lt;VersionChangeEvent&gt;('versionchange')
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field inherited"><h4 id="hashCode">
<button class="show-code">Code</button>
final <a href="../dart_core/int.html">int</a>         <strong>hashCode</strong> <a class="anchor-link"
            href="#hashCode"
            title="Permalink to Database.hashCode">#</a>
        </h4>
        <div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>Get a hash code for this object.</p>
<p>All objects have hash codes. Hash codes are guaranteed to be the
same for objects that are equal when compared using the equality
operator <code>==</code>. Other than that there are no guarantees about
the hash codes. They will not be consistent between runs and
there are no distribution guarantees.</p>
<p>If a subclass overrides <code>hashCode</code> it should override the
equality operator as well to maintain consistency.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
int get hashCode =&gt; Primitives.objectHashCode(this);
</pre>
</div>
</div>
<div class="field"><h4 id="name">
<button class="show-code">Code</button>
final <a href="../dart_core/String.html">String</a>         <strong>name</strong> <a class="anchor-link"
            href="#name"
            title="Permalink to Database.name">#</a>
        </h4>
        <div class="doc">
        <div class="mdn">
        Name of the connected database.
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
final String name
</pre>
</div>
</div>
<div class="field"><h4 id="objectStoreNames">
<button class="show-code">Code</button>
final <a href="../dart_core/List.html">List</a>&lt;<a href="../dart_core/String.html">String</a>&gt;         <strong>objectStoreNames</strong> <a class="anchor-link"
            href="#objectStoreNames"
            title="Permalink to Database.objectStoreNames">#</a>
        </h4>
        <div class="doc">
        <div class="mdn">
        A list of the names of the <a title="en/IndexedDB#gloss object store" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_object_store">object stores</a> currently in the connected database.
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
final List&lt;String&gt; objectStoreNames
</pre>
</div>
</div>
<div class="field inherited"><h4 id="on">
<button class="show-code">Code</button>
final <a href="../dart_html/Events.html">Events</a>         <strong>on</strong> <a class="anchor-link"
            href="#on"
            title="Permalink to Database.on">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../dart_html/EventTarget.html">EventTarget</a> </div><div class="doc">
<p>This is an ease-of-use accessor for event streams which should only be
used when an explicit accessor is not available.</p>
<pre class="source">
Events get on =&gt; new Events(this);
</pre>
</div>
</div>
<div class="field"><h4 id="onAbort">
<button class="show-code">Code</button>
final <a href="../dart_async/Stream.html">Stream</a>&lt;<a href="../dart_html/Event.html">Event</a>&gt;         <strong>onAbort</strong> <a class="anchor-link"
            href="#onAbort"
            title="Permalink to Database.onAbort">#</a>
        </h4>
        <div class="doc">
<pre class="source">
@DomName('IDBDatabase.onabort')
@DocsEditable
Stream&lt;Event&gt; get onAbort =&gt; abortEvent.forTarget(this);
</pre>
</div>
</div>
<div class="field"><h4 id="onError">
<button class="show-code">Code</button>
final <a href="../dart_async/Stream.html">Stream</a>&lt;<a href="../dart_html/Event.html">Event</a>&gt;         <strong>onError</strong> <a class="anchor-link"
            href="#onError"
            title="Permalink to Database.onError">#</a>
        </h4>
        <div class="doc">
<pre class="source">
@DomName('IDBDatabase.onerror')
@DocsEditable
Stream&lt;Event&gt; get onError =&gt; errorEvent.forTarget(this);
</pre>
</div>
</div>
<div class="field"><h4 id="onVersionChange">
<button class="show-code">Code</button>
final <a href="../dart_async/Stream.html">Stream</a>&lt;<a href="../dart_indexed_db/VersionChangeEvent.html">VersionChangeEvent</a>&gt;         <strong>onVersionChange</strong> <a class="anchor-link"
            href="#onVersionChange"
            title="Permalink to Database.onVersionChange">#</a>
        </h4>
        <div class="doc">
<pre class="source">
@DomName('IDBDatabase.onversionchange')
@DocsEditable
Stream&lt;VersionChangeEvent&gt; get onVersionChange =&gt; versionChangeEvent.forTarget(this);
</pre>
</div>
</div>
<div class="field inherited"><h4 id="runtimeType">
<button class="show-code">Code</button>
final <a href="../dart_core/Type.html">Type</a>         <strong>runtimeType</strong> <a class="anchor-link"
            href="#runtimeType"
            title="Permalink to Database.runtimeType">#</a>
        </h4>
        <div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>A representation of the runtime type of the object.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
Type get runtimeType =&gt; getRuntimeType(this);
</pre>
</div>
</div>
<div class="field"><h4 id="version">
<button class="show-code">Code</button>
final         <strong>version</strong> <a class="anchor-link"
            href="#version"
            title="Permalink to Database.version">#</a>
        </h4>
        <div class="doc">
        <div class="mdn">
        The version of the connected database. When a database is first created, this attribute is the empty string.
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
final dynamic version
</pre>
</div>
</div>
</div>
<div class="inherited">
<h3>Operators</h3>
<div class="method inherited"><h4 id="==">
<button class="show-code">Code</button>
<a href="../dart_core/bool.html">bool</a> <strong>operator ==</strong>(other) <a class="anchor-link" href="#=="
              title="Permalink to Database.operator ==">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>The equality operator.</p>
<p>The default behavior for all <code>Object</code>s is to return true if and
only if <code>this</code> and 
<span class="param">other</span> are the same object.</p>
<p>If a subclass overrides the equality operator it should override
the <code>hashCode</code> method as well to maintain consistency.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
bool operator ==(other) =&gt; identical(this, other);
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="close">
<button class="show-code">Code</button>
void <strong>close</strong>() <a class="anchor-link" href="#close"
              title="Permalink to Database.close">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Returns immediately and closes the connection in a separate thread. The connection is not actually closed until all transactions created using this connection are complete. No new transactions can be created for this connection once this method is called. Methods that create transactions throw an exception if a closing operation is pending.</p>
<pre>void close();
</pre>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBDatabase.close')
@DocsEditable
void close() native;
</pre>
</div>
</div>
<div class="method"><h4 id="createObjectStore">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/ObjectStore.html">ObjectStore</a> <strong>createObjectStore</strong>(<a href="../dart_core/String.html">String</a> name, {<a href="../dart_core/String.html">String</a> keyPath, <a href="../dart_core/bool.html">bool</a> autoIncrement}) <a class="anchor-link" href="#createObjectStore"
              title="Permalink to Database.createObjectStore">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Creates and returns a new object store or index. The method takes the name of the store as well as a parameter object. The parameter object lets you define important optional properties. You can use the property to uniquely identify individual objects in the store. As the property is an identifier, it should be unique to every object, and every object should have that property.</p>
<p>But before you can create any object store or index,&nbsp;you must first call the <code><a href="#setVersion()">setVersion()</a></code><a href="#setVersion()"> method</a>.</p>

<div id="section_11"><span id="Parameters"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the new object store.</dd> <dt>optionalParameters</dt> <dd> <div class="warning"><strong>Warning:</strong> The latest draft of the specification changed this to <code>IDBDatabaseOptionalParameters</code>, which is not yet recognized by any browser</div> <p><em>Optional</em>. Options object whose attributes are optional parameters to the method. It includes the following properties:</p> <table class="standard-table"> <thead> <tr> <th scope="col" width="131">Attribute</th> <th scope="col" width="698">Description</th> </tr> </thead> <tbody> <tr> <td><code>keyPath</code></td> <td>The <a title="en/IndexedDB#gloss key path" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_key_path">key path</a> to be used by the new object store. If empty or not specified, the object store is created without a key path and uses <a title="en/IndexedDB#gloss out-of-line key" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_out-of-line_key">out-of-line keys</a>.</td> </tr> <tr> <td><code>autoIncrement</code></td> <td>If true, the object store has a <a title="en/IndexedDB#gloss key generator" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_key_generator">key generator</a>. Defaults to <code>false</code>.</td> </tr> </tbody> </table> <p>Unknown parameters are ignored.</p> </dd>
</dl>
</div><div id="section_12"><span id="Returns"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBObjectStore" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBObjectStore">IDBObjectStore</a></code></dt> <dd>The newly created object store.</dd>
</dl>
</div><div id="section_13"><span id="Exceptions"></span><h5 class="editable">Exceptions</h5>
<p>This method can raise an <a title="en/IndexedDB/IDBDatabaseException" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException">IDBDatabaseException</a> with the following codes:</p>
<table class="standard-table"> <thead> <tr> <th scope="col" width="131">Exception</th> <th scope="col" width="698">Description</th> </tr> </thead> <tbody> <tr> <td><code><a title="en/IndexedDB/DatabaseException#NOT ALLOWED ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NOT_ALLOWED_ERR">NOT_ALLOWED_ERR</a></code></td> <td>The method was not called from a <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transaction callback. You must call <code>setVersion()</code> first.</td> </tr> <tr> <td><code><a title="en/IndexedDB/DatabaseException#CONSTRAINT ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#CONSTRAINT_ERR">CONSTRAINT_ERR</a></code></td> <td>An object store with the given name (based on case-sensitive comparison) already exists in the connected database.</td> </tr> <tr> <td><code><a title="en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR">NON_TRANSIENT_ERR</a></code></td> <td><code>optionalParameters</code> has attributes other than <code>keyPath</code> and <code>autoIncrement</code>.</td> </tr> </tbody>
</table>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBDatabase.createObjectStore')
@DocsEditable
ObjectStore createObjectStore(String name,
   {String keyPath, bool autoIncrement}) {
 var options = {};
 if (keyPath != null) {
   options['keyPath'] = keyPath;
 }
 if (autoIncrement != null) {
   options['autoIncrement'] = autoIncrement;
 }

 return $dom_createObjectStore(name, options);
}
</pre>
</div>
</div>
<div class="method"><h4 id="deleteObjectStore">
<button class="show-code">Code</button>
void <strong>deleteObjectStore</strong>(<a href="../dart_core/String.html">String</a> name) <a class="anchor-link" href="#deleteObjectStore"
              title="Permalink to Database.deleteObjectStore">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Destroys the object store with the given name in the connected database, along with any indexes that reference it.&nbsp;</p>
<p>As with <code>createObjectStore()</code>, this method can be called <em>only</em> within a <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transaction. So you must call the <code>setVersion()</code> method first before you can remove any object store or index.</p>

<div id="section_15"><span id="Parameters_2"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the data store to delete.</dd>
</dl>
</div><div id="section_16"><span id="Returns_2"></span><h5 class="editable">Returns</h5>
<p><code>void</code></p>
</div><div id="section_17"><span id="Exceptions_2"></span><h5 class="editable">Exceptions</h5>
<p>This method can raise an <a title="en/IndexedDB/IDBDatabaseException" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException">IDBDatabaseException</a> with the following codes:</p>
<table class="standard-table"> <thead> <tr> <th scope="col" width="131">Exception</th> <th scope="col" width="698">Description</th> </tr> </thead> <tbody> <tr> <td><code><a title="en/IndexedDB/DatabaseException#NOT ALLOWED ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NOT_ALLOWED_ERR">NOT_ALLOWED_ERR</a></code></td> <td>The method was not called from a <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transaction callback. You must call <code>setVersion()</code> first.</td> </tr> <tr> <td><code><a title="en/IndexedDB/IDBDatabaseException#NOT FOUND ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NOT_FOUND_ERR">NOT_FOUND_ERR</a></code></td> <td>You are trying to delete an object store that does not exist. Names are case sensitive.</td> </tr> </tbody>
</table>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBDatabase.deleteObjectStore')
@DocsEditable
void deleteObjectStore(String name) native;
</pre>
</div>
</div>
<div class="method"><h4 id="dispatchEvent">
<button class="show-code">Code</button>
<a href="../dart_core/bool.html">bool</a> <strong>dispatchEvent</strong>(<a href="../dart_html/Event.html">Event</a> evt) <a class="anchor-link" href="#dispatchEvent"
              title="Permalink to Database.dispatchEvent">#</a></h4>
<div class="doc">
<pre class="source">
@DomName('IDBDatabase.dispatchEvent')
@DocsEditable
bool dispatchEvent(Event evt) native;
</pre>
</div>
</div>
<div class="method inherited"><h4 id="noSuchMethod">
<button class="show-code">Code</button>
dynamic <strong>noSuchMethod</strong>(<a href="../dart_core/Invocation.html">Invocation</a> invocation) <a class="anchor-link" href="#noSuchMethod"
              title="Permalink to Database.noSuchMethod">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p><code>noSuchMethod</code> is invoked when users invoke a non-existant method
on an object. The name of the method and the arguments of the
invocation are passed to <code>noSuchMethod</code> in an <code>Invocation</code>.
If <code>noSuchMethod</code> returns a value, that value becomes the result of
the original invocation.</p>
<p>The default behavior of <code>noSuchMethod</code> is to throw a
<code>noSuchMethodError</code>.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
dynamic noSuchMethod(Invocation invocation) {
 throw new NoSuchMethodError(
     this,
     _symbolToString(invocation.memberName),
     invocation.positionalArguments,
     _symbolMapToStringMap(invocation.namedArguments));
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="toString">
<button class="show-code">Code</button>
<a href="../dart_core/String.html">String</a> <strong>toString</strong>() <a class="anchor-link" href="#toString"
              title="Permalink to Database.toString">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>Returns a string representation of this object.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
String toString() =&gt; Primitives.objectToString(this);
</pre>
</div>
</div>
<div class="method"><h4 id="transaction">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/Transaction.html">Transaction</a> <strong>transaction</strong>(storeName_OR_storeNames, <a href="../dart_core/String.html">String</a> mode) <a class="anchor-link" href="#transaction"
              title="Permalink to Database.transaction">#</a></h4>
<div class="doc">
<pre class="source">
Transaction transaction(storeName_OR_storeNames, String mode) {
 if (mode != 'readonly' &amp;&amp; mode != 'readwrite') {
   throw new ArgumentError(mode);
 }

 // TODO(sra): Ensure storeName_OR_storeNames is a string or List&lt;String&gt;,
 // and copy to JavaScript array if necessary.

 // Try and create a transaction with a string mode.  Browsers that expect a
 // numeric mode tend to convert the string into a number.  This fails
 // silently, resulting in zero ('readonly').
 return _transaction(storeName_OR_storeNames, mode);
}
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_addEventListener">
<button class="show-code">Code</button>
void <strong>$dom_addEventListener</strong>(<a href="../dart_core/String.html">String</a> type, <a href="../dart_html/EventListener.html">EventListener</a> listener, [<a href="../dart_core/bool.html">bool</a> useCapture]) <a class="anchor-link" href="#$dom_addEventListener"
              title="Permalink to Database.$dom_addEventListener">#</a></h4>
<div class="doc">
<pre class="source">
@JSName('addEventListener')
@DomName('IDBDatabase.addEventListener')
@DocsEditable
void $dom_addEventListener(String type, EventListener listener, [bool useCapture]) native;
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_createObjectStore">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/ObjectStore.html">ObjectStore</a> <strong>$dom_createObjectStore</strong>(<a href="../dart_core/String.html">String</a> name, [<a href="../dart_core/Map.html">Map</a> options]) <a class="anchor-link" href="#$dom_createObjectStore"
              title="Permalink to Database.$dom_createObjectStore">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Creates and returns a new object store or index. The method takes the name of the store as well as a parameter object. The parameter object lets you define important optional properties. You can use the property to uniquely identify individual objects in the store. As the property is an identifier, it should be unique to every object, and every object should have that property.</p>
<p>But before you can create any object store or index,&nbsp;you must first call the <code><a href="#setVersion()">setVersion()</a></code><a href="#setVersion()"> method</a>.</p>

<div id="section_11"><span id="Parameters"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the new object store.</dd> <dt>optionalParameters</dt> <dd> <div class="warning"><strong>Warning:</strong> The latest draft of the specification changed this to <code>IDBDatabaseOptionalParameters</code>, which is not yet recognized by any browser</div> <p><em>Optional</em>. Options object whose attributes are optional parameters to the method. It includes the following properties:</p> <table class="standard-table"> <thead> <tr> <th scope="col" width="131">Attribute</th> <th scope="col" width="698">Description</th> </tr> </thead> <tbody> <tr> <td><code>keyPath</code></td> <td>The <a title="en/IndexedDB#gloss key path" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_key_path">key path</a> to be used by the new object store. If empty or not specified, the object store is created without a key path and uses <a title="en/IndexedDB#gloss out-of-line key" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_out-of-line_key">out-of-line keys</a>.</td> </tr> <tr> <td><code>autoIncrement</code></td> <td>If true, the object store has a <a title="en/IndexedDB#gloss key generator" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_key_generator">key generator</a>. Defaults to <code>false</code>.</td> </tr> </tbody> </table> <p>Unknown parameters are ignored.</p> </dd>
</dl>
</div><div id="section_12"><span id="Returns"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBObjectStore" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBObjectStore">IDBObjectStore</a></code></dt> <dd>The newly created object store.</dd>
</dl>
</div><div id="section_13"><span id="Exceptions"></span><h5 class="editable">Exceptions</h5>
<p>This method can raise an <a title="en/IndexedDB/IDBDatabaseException" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException">IDBDatabaseException</a> with the following codes:</p>
<table class="standard-table"> <thead> <tr> <th scope="col" width="131">Exception</th> <th scope="col" width="698">Description</th> </tr> </thead> <tbody> <tr> <td><code><a title="en/IndexedDB/DatabaseException#NOT ALLOWED ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NOT_ALLOWED_ERR">NOT_ALLOWED_ERR</a></code></td> <td>The method was not called from a <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transaction callback. You must call <code>setVersion()</code> first.</td> </tr> <tr> <td><code><a title="en/IndexedDB/DatabaseException#CONSTRAINT ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#CONSTRAINT_ERR">CONSTRAINT_ERR</a></code></td> <td>An object store with the given name (based on case-sensitive comparison) already exists in the connected database.</td> </tr> <tr> <td><code><a title="en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR">NON_TRANSIENT_ERR</a></code></td> <td><code>optionalParameters</code> has attributes other than <code>keyPath</code> and <code>autoIncrement</code>.</td> </tr> </tbody>
</table>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBDatabase.createObjectStore')
@DocsEditable
ObjectStore $dom_createObjectStore(String name, [Map options]) {
 if (options != null) {
   var options_1 = convertDartToNative_Dictionary(options);
   return _$dom_createObjectStore_1(name, options_1);
 }
 return _$dom_createObjectStore_2(name);
}
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_removeEventListener">
<button class="show-code">Code</button>
void <strong>$dom_removeEventListener</strong>(<a href="../dart_core/String.html">String</a> type, <a href="../dart_html/EventListener.html">EventListener</a> listener, [<a href="../dart_core/bool.html">bool</a> useCapture]) <a class="anchor-link" href="#$dom_removeEventListener"
              title="Permalink to Database.$dom_removeEventListener">#</a></h4>
<div class="doc">
<pre class="source">
@JSName('removeEventListener')
@DomName('IDBDatabase.removeEventListener')
@DocsEditable
void $dom_removeEventListener(String type, EventListener listener, [bool useCapture]) native;
</pre>
</div>
</div>
</div>
          <p class="mdn-attribution">
          <a href="https://developer.mozilla.org">
            <img src="../mdn-logo-tiny.png" class="mdn-logo" />
          </a>
          This page includes <a href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">content</a> from the
          <a href="http://www.mozilla.org/">Mozilla Foundation</a> that is graciously
          <a href="https://developer.mozilla.org/Project:Copyrights">licensed</a> under a
          <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons: Attribution-Sharealike license</a>.
          Mozilla has no other association with Dart or dartlang.org. We
          encourage you to improve the web by
          <a href="https://developer.mozilla.org/Project:en/How_to_Help">contributing</a> to
          <a href="https://developer.mozilla.org">The Mozilla Developer Network</a>.
          </p>
          
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-06-21 06:35:22.068</div>
<div>        <p>Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this
        page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution
        3.0 License</a>, and code samples are licensed under the
        <a href="http://code.google.com/google_bsd_license.html">BSD License</a>.</p>
        <p><a href="http://www.dartlang.org/tos.html">Terms of Service</a> |
        <a href="http://www.google.com/intl/en/privacy/privacy-policy.html">Privacy Policy</a></p>
        </div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
