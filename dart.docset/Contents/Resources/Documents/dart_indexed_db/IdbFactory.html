        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>IdbFactory class / dart:indexed_db Library / Dart API Reference</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <link rel="stylesheet" type="text/css"
            href="../apidoc-styles.css" />
        
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(["_setAccount", "UA-26406144-9"]);
          _gaq.push(["_trackPageview"]);

          (function() {
            var ga = document.createElement("script");
            ga.type = "text/javascript"; ga.async = true;
            ga.src = ("https:" == document.location.protocol ?
              "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(ga, s);
          })();
        </script>
        
        </head>
        <body data-library="dart:indexed_db" data-type="IdbFactory">
        <div class="page">
        <div class="header">
          <a href="http://dartlang.org" ref="external"><div class="logo"></div></a>
          <a href="../index.html">Dart API Reference</a>
         &rsaquo; <a href="../dart_indexed_db.html">dart:indexed_db</a> &rsaquo; <a href="../dart_indexed_db/IdbFactory.html">IdbFactory</a>        <form action="http://www.dartlang.org/search.html" id="search-box">
          <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="hidden" name="hl" value="en">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </form>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../args.html">args</a></h2><h2><div class="icon-library"></div><a href="../crypto.html">crypto</a></h2><h2><div class="icon-library"></div><a href="../dart_async.html">dart:async</a></h2><h2><div class="icon-library"></div><a href="../dart_chrome.html">dart:chrome</a></h2><h2><div class="icon-library"></div><a href="../dart_collection.html">dart:collection</a></h2><h2><div class="icon-library"></div><a href="../dart_core.html">dart:core</a></h2><h2><div class="icon-library"></div><a href="../dart_html.html">dart:html</a></h2><h2><div class="icon-library"></div><a href="../dart_indexed_db.html">dart:indexed_db</a></h2><ul class="icon">
<li><a href="../dart_indexed_db/Cursor.html"><div class="icon-class"></div>Cursor</a></li>
<li><a href="../dart_indexed_db/CursorWithValue.html"><div class="icon-class"></div>CursorWithValue</a></li>
<li><a href="../dart_indexed_db/Database.html"><div class="icon-class"></div>Database</a></li>
<li><div class="icon-class"></div><strong>IdbFactory</strong></li>
<li><a href="../dart_indexed_db/Index.html"><div class="icon-class"></div>Index</a></li>
<li><a href="../dart_indexed_db/KeyRange.html"><div class="icon-class"></div>KeyRange</a></li>
<li><a href="../dart_indexed_db/ObjectStore.html"><div class="icon-class"></div>ObjectStore</a></li>
<li><a href="../dart_indexed_db/OpenDBRequest.html"><div class="icon-class"></div>OpenDBRequest</a></li>
<li><a href="../dart_indexed_db/Request.html"><div class="icon-class"></div>Request</a></li>
<li><a href="../dart_indexed_db/Transaction.html"><div class="icon-class"></div>Transaction</a></li>
<li><a href="../dart_indexed_db/VersionChangeEvent.html"><div class="icon-class"></div>VersionChangeEvent</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../dart_io.html">dart:io</a></h2><h2><div class="icon-library"></div><a href="../dart_isolate.html">dart:isolate</a></h2><h2><div class="icon-library"></div><a href="../dart_json.html">dart:json</a></h2><h2><div class="icon-library"></div><a href="../dart_math.html">dart:math</a></h2><h2><div class="icon-library"></div><a href="../dart_mirrors.html">dart:mirrors</a></h2><h2><div class="icon-library"></div><a href="../dart_svg.html">dart:svg</a></h2><h2><div class="icon-library"></div><a href="../dart_typed_data.html">dart:typed_data</a></h2><h2><div class="icon-library"></div><a href="../dart_utf.html">dart:utf</a></h2><h2><div class="icon-library"></div><a href="../dart_web_audio.html">dart:web_audio</a></h2><h2><div class="icon-library"></div><a href="../dart_web_gl.html">dart:web_gl</a></h2><h2><div class="icon-library"></div><a href="../dart_web_sql.html">dart:web_sql</a></h2><h2><div class="icon-library"></div><a href="../fixnum.html">fixnum</a></h2><h2><div class="icon-library"></div><a href="../intl.html">intl</a></h2><h2><div class="icon-library"></div><a href="../logging.html">logging</a></h2><h2><div class="icon-library"></div><a href="../matcher.html">matcher</a></h2><h2><div class="icon-library"></div><a href="../mdv_observe.html">mdv_observe</a></h2><h2><div class="icon-library"></div><a href="../meta.html">meta</a></h2><h2><div class="icon-library"></div><a href="../mock.html">mock</a></h2><h2><div class="icon-library"></div><a href="../serialization.html">serialization</a></h2><h2><div class="icon-library"></div><a href="../source_maps.html">source_maps</a></h2><h2><div class="icon-library"></div><a href="../unittest.html">unittest</a></h2></div>
<div class="content">
        <h2><strong>IdbFactory</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
        <div class="mdn">
        <p>The <code>IDBFactory</code> interface of the <a title="en/IndexedDB" rel="internal" href="https://developer.mozilla.org/en/IndexedDB">IndexedDB&nbsp;API</a> lets applications asynchronously access the indexed databases. The object that implements the interface is&nbsp; <code>window.indexedDB</code>. You open—that is, create and access—and delete a database with the object and not directly with <code>IDBFactory</code>.</p>
<p>This interface still has vendor prefixes, that is to say, you have to make calls with <code>mozIndexedDB.open()</code> for Firefox and <code>webkitIndexedDB.open()</code> for Chrome.</p>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBFactory')
@SupportedBrowser(SupportedBrowser.CHROME)
@SupportedBrowser(SupportedBrowser.FIREFOX, '15')
@SupportedBrowser(SupportedBrowser.IE, '10')
@Experimental
@Unstable
class IdbFactory native "IDBFactory" {
 /**
  * Checks to see if Indexed DB is supported on the current platform.
  */
 static bool get supported {
   return JS('bool',
       '!!(window.indexedDB || '
       'window.webkitIndexedDB || '
       'window.mozIndexedDB)');
 }

 @DomName('IDBFactory.open')
 Future&lt;Database&gt; open(String name,
     {int version, void onUpgradeNeeded(VersionChangeEvent),
     void onBlocked(Event)}) {
   if ((version == null) != (onUpgradeNeeded == null)) {
     return new Future.error(new ArgumentError(
         'version and onUpgradeNeeded must be specified together'));
   }
   try {
     var request;
     if (version != null) {
       request = $dom_open(name, version);
     } else {
       request = $dom_open(name);
     }

     if (onUpgradeNeeded != null) {
       request.onUpgradeNeeded.listen(onUpgradeNeeded);
     }
     if (onBlocked != null) {
       request.onBlocked.listen(onBlocked);
     }
     return _completeRequest(request);
   } catch (e, stacktrace) {
     return new Future.error(e, stacktrace);
   }
 }

 @DomName('IDBFactory.deleteDatabase')
 Future&lt;IdbFactory&gt; deleteDatabase(String name,
     {void onBlocked(Event)}) {
   try {
     var request = $dom_deleteDatabase(name);

     if (onBlocked != null) {
       request.onBlocked.listen(onBlocked);
     }
     var completer = new Completer.sync();
     request.onSuccess.listen((e) {
       completer.complete(this);
     });
     request.onError.listen((e) {
       completer.completeError(e);
     });
     return completer.future;
   } catch (e, stacktrace) {
     return new Future.error(e, stacktrace);
   }
 }

 @DomName('IDBFactory.getDatabaseNames')
 @SupportedBrowser(SupportedBrowser.CHROME)
 @Experimental
 Future&lt;List&lt;String&gt;&gt; getDatabaseNames() {
   try {
     var request = $dom_webkitGetDatabaseNames();

     return _completeRequest(request);
   } catch (e, stacktrace) {
     return new Future.error(e, stacktrace);
   }
 }

 /**
  * Checks to see if getDatabaseNames is supported by the current platform.
  */
 bool get supportsDatabaseNames {
   return supported &amp;&amp; JS('bool',
       '!!(#.getDatabaseNames || #.webkitGetDatabaseNames)', this, this);
 }


 @DomName('IDBFactory.cmp')
 @DocsEditable
 int cmp(Object first, Object second) native;

 @JSName('deleteDatabase')
 @DomName('IDBFactory.deleteDatabase')
 @DocsEditable
 OpenDBRequest $dom_deleteDatabase(String name) native;

 @JSName('open')
 @DomName('IDBFactory.open')
 @DocsEditable
 @Returns('Request')
 @Creates('Request')
 @Creates('Database')
 OpenDBRequest $dom_open(String name, [int version]) native;

 @JSName('webkitGetDatabaseNames')
 @DomName('IDBFactory.webkitGetDatabaseNames')
 @DocsEditable
 @SupportedBrowser(SupportedBrowser.CHROME)
 @SupportedBrowser(SupportedBrowser.SAFARI)
 @Experimental
 @Returns('Request')
 @Creates('Request')
 @Creates('DomStringList')
 Request $dom_webkitGetDatabaseNames() native;

}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart__interceptors/Interceptor.html">Interceptor</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>IdbFactory</strong></span></p>
<div>
<h3>Static Properties</h3>
<div class="field"><h4 id="supported">
<button class="show-code">Code</button>
final <a href="../dart_core/bool.html">bool</a>         <strong>supported</strong> <a class="anchor-link"
            href="#supported"
            title="Permalink to IdbFactory.supported">#</a>
        </h4>
        <div class="doc">
<p>Checks to see if Indexed DB is supported on the current platform.</p>
<pre class="source">
static bool get supported {
 return JS('bool',
     '!!(window.indexedDB || '
     'window.webkitIndexedDB || '
     'window.mozIndexedDB)');
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field inherited"><h4 id="hashCode">
<button class="show-code">Code</button>
final <a href="../dart_core/int.html">int</a>         <strong>hashCode</strong> <a class="anchor-link"
            href="#hashCode"
            title="Permalink to IdbFactory.hashCode">#</a>
        </h4>
        <div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>Get a hash code for this object.</p>
<p>All objects have hash codes. Hash codes are guaranteed to be the
same for objects that are equal when compared using the equality
operator <code>==</code>. Other than that there are no guarantees about
the hash codes. They will not be consistent between runs and
there are no distribution guarantees.</p>
<p>If a subclass overrides <code>hashCode</code> it should override the
equality operator as well to maintain consistency.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
int get hashCode =&gt; Primitives.objectHashCode(this);
</pre>
</div>
</div>
<div class="field inherited"><h4 id="runtimeType">
<button class="show-code">Code</button>
final <a href="../dart_core/Type.html">Type</a>         <strong>runtimeType</strong> <a class="anchor-link"
            href="#runtimeType"
            title="Permalink to IdbFactory.runtimeType">#</a>
        </h4>
        <div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>A representation of the runtime type of the object.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
Type get runtimeType =&gt; getRuntimeType(this);
</pre>
</div>
</div>
<div class="field"><h4 id="supportsDatabaseNames">
<button class="show-code">Code</button>
final <a href="../dart_core/bool.html">bool</a>         <strong>supportsDatabaseNames</strong> <a class="anchor-link"
            href="#supportsDatabaseNames"
            title="Permalink to IdbFactory.supportsDatabaseNames">#</a>
        </h4>
        <div class="doc">
<p>Checks to see if getDatabaseNames is supported by the current platform.</p>
<pre class="source">
bool get supportsDatabaseNames {
 return supported &amp;&amp; JS('bool',
     '!!(#.getDatabaseNames || #.webkitGetDatabaseNames)', this, this);
}
</pre>
</div>
</div>
</div>
<div class="inherited">
<h3>Operators</h3>
<div class="method inherited"><h4 id="==">
<button class="show-code">Code</button>
<a href="../dart_core/bool.html">bool</a> <strong>operator ==</strong>(other) <a class="anchor-link" href="#=="
              title="Permalink to IdbFactory.operator ==">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>The equality operator.</p>
<p>The default behavior for all <code>Object</code>s is to return true if and
only if <code>this</code> and 
<span class="param">other</span> are the same object.</p>
<p>If a subclass overrides the equality operator it should override
the <code>hashCode</code> method as well to maintain consistency.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
bool operator ==(other) =&gt; identical(this, other);
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="cmp">
<button class="show-code">Code</button>
<a href="../dart_core/int.html">int</a> <strong>cmp</strong>(<a href="../dart_core/Object.html">Object</a> first, <a href="../dart_core/Object.html">Object</a> second) <a class="anchor-link" href="#cmp"
              title="Permalink to IdbFactory.cmp">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Compares two values as keys to determine equality and ordering for IndexedDB operations, such as storing and iterating. Do not use this method for comparing arbitrary JavaScript values, because many JavaScript values are either not valid IndexedDB keys (booleans and objects, for example) or are treated as equivalent IndexedDB keys (for example, since IndexedDB ignores arrays with non-numeric properties and treats them as empty arrays, so any non-numeric array are treated as equivalent).</p>
<p>This throws an exception if either of the values is not a valid key. &nbsp;</p>

<div id="section_11"><span id="Parameters_3"></span><h5 class="editable">Parameters</h5>
<dl> <dt>first</dt> <dd>The first key to compare.</dd> <dt>second</dt> <dd>The second key to compare.</dd>
</dl>
</div><div id="section_12"><span id="Returns_3"></span><h5 class="editable">Returns</h5>
<dl> <dt>Integer</dt> <dd> <table class="standard-table" width="434"> <thead> <tr> <th scope="col" width="216">Returned value</th> <th scope="col" width="206">Description</th> </tr> </thead> <tbody> <tr> <td>-1</td> <td>1st key &lt; 2nd</td> </tr> <tr> <td>0</td> <td>1st key = 2nd</td> </tr> <tr> <td>1</td> <td>1st key &gt; 2nd</td> </tr> </tbody> </table> </dd>
</dl>
</div><div id="section_13"><span id="Exceptions"></span><h5 class="editable">Exceptions</h5>
<p>This method can raise an <a title="en/IndexedDB/IDBDatabaseException" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException">IDBDatabaseException</a> with the following code:</p>
<br>
<br>
<br><table class="standard-table"> <thead> <tr> <th scope="col" width="131">Attribute</th> <th scope="col" width="698">Description</th> </tr> <tr> <td><code><a title="en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabaseException#NON_TRANSIENT_ERR">NON_TRANSIENT_ERR</a></code></td> <td>One of the supplied keys was not a valid key.</td> </tr> </thead> <tbody> </tbody>
</table>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBFactory.cmp')
@DocsEditable
int cmp(Object first, Object second) native;
</pre>
</div>
</div>
<div class="method"><h4 id="deleteDatabase">
<button class="show-code">Code</button>
<a href="../dart_async/Future.html">Future</a>&lt;<a href="../dart_indexed_db/IdbFactory.html">IdbFactory</a>&gt; <strong>deleteDatabase</strong>(<a href="../dart_core/String.html">String</a> name, {void onBlocked(Event)}) <a class="anchor-link" href="#deleteDatabase"
              title="Permalink to IdbFactory.deleteDatabase">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Request deleting a database. The method returns&nbsp;&nbsp;an IDBRequest object&nbsp;immediately, and performs the deletion operation&nbsp;asynchronously.</p>
<p>The deletion operation (performed in a different thread) consists of the following steps:</p>
<ol> <li>If there is no database with the given name, exit successfully.</li> <li>Fire an <a title="en/IndexedDB/IDBVersionChangeEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent">IDBVersionChangeEvent</a> at all connection objects connected to the named database, with <code><a title="en/IndexedDB/IDBVersionChangeEvent#attr version" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent#attr_version">version</a></code> set to <code>null</code>.</li> <li>If any connection objects connected to the database are still open, fire a <code>blocked</code> event at the request object returned by the <code>deleteDatabase</code> method, using <a title="en/IndexedDB/IDBVersionChangeEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent">IDBVersionChangeEvent</a> with <code><a title="en/IndexedDB/IDBVersionChangeEvent#attr version" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent#attr_version">version</a></code> set to <code>null</code>.</li> <li>Wait until all open connections to the database are closed.</li> <li>Delete the database.</li>
</ol>
<p>If the database is successfully deleted, then an <a title="en/IndexedDB/IDBSuccessEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent">IDBSuccessEvent</a> is fired on the request object returned from this method, with its <code><a title="en/IndexedDB/IDBSuccessEvent#attr result" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent#attr_result">result</a></code> set to <code>null</code>.</p>
<p>If an error occurs while the database is being deleted, then an error event is fired on the request object that is returned from this method, with its <code><a title="en/IndexedDB/IDBErrorEvent#attr code" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_code">code</a></code> and <code><a title="en/IndexedDB/IDBErrorEvent#attr message" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_message">message</a></code> set to appropriate values.</p>
<p><strong>Tip:</strong> If the browser you are using hasn't implemented this yet, you can delete the object stores one by one, thus effectively removing the database.</p>

<div id="section_8"><span id="Parameters_2"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the database.</dd>
</dl>
</div><div id="section_9"><span id="Returns_2"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBRequest" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBRequest">IDBRequest</a></code></dt> <dd>A request object on which subsequent events related to this request are fired. In the latest draft of the specification, which has not yet been implemented by browsers, the returned object is <code>IDBOpenRequest</code>.</dd>
</dl>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBFactory.deleteDatabase')
Future&lt;IdbFactory&gt; deleteDatabase(String name,
   {void onBlocked(Event)}) {
 try {
   var request = $dom_deleteDatabase(name);

   if (onBlocked != null) {
     request.onBlocked.listen(onBlocked);
   }
   var completer = new Completer.sync();
   request.onSuccess.listen((e) {
     completer.complete(this);
   });
   request.onError.listen((e) {
     completer.completeError(e);
   });
   return completer.future;
 } catch (e, stacktrace) {
   return new Future.error(e, stacktrace);
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="getDatabaseNames">
<button class="show-code">Code</button>
<a href="../dart_async/Future.html">Future</a>&lt;<a href="../dart_core/List.html">List</a>&lt;<a href="../dart_core/String.html">String</a>&gt;&gt; <strong>getDatabaseNames</strong>() <a class="anchor-link" href="#getDatabaseNames"
              title="Permalink to IdbFactory.getDatabaseNames">#</a></h4>
<div class="doc">
<pre class="source">
@DomName('IDBFactory.getDatabaseNames')
@SupportedBrowser(SupportedBrowser.CHROME)
@Experimental
Future&lt;List&lt;String&gt;&gt; getDatabaseNames() {
 try {
   var request = $dom_webkitGetDatabaseNames();

   return _completeRequest(request);
 } catch (e, stacktrace) {
   return new Future.error(e, stacktrace);
 }
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="noSuchMethod">
<button class="show-code">Code</button>
dynamic <strong>noSuchMethod</strong>(<a href="../dart_core/Invocation.html">Invocation</a> invocation) <a class="anchor-link" href="#noSuchMethod"
              title="Permalink to IdbFactory.noSuchMethod">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p><code>noSuchMethod</code> is invoked when users invoke a non-existant method
on an object. The name of the method and the arguments of the
invocation are passed to <code>noSuchMethod</code> in an <code>Invocation</code>.
If <code>noSuchMethod</code> returns a value, that value becomes the result of
the original invocation.</p>
<p>The default behavior of <code>noSuchMethod</code> is to throw a
<code>noSuchMethodError</code>.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
dynamic noSuchMethod(Invocation invocation) {
 throw new NoSuchMethodError(
     this,
     _symbolToString(invocation.memberName),
     invocation.positionalArguments,
     _symbolMapToStringMap(invocation.namedArguments));
}
</pre>
</div>
</div>
<div class="method"><h4 id="open">
<button class="show-code">Code</button>
<a href="../dart_async/Future.html">Future</a>&lt;<a href="../dart_indexed_db/Database.html">Database</a>&gt; <strong>open</strong>(<a href="../dart_core/String.html">String</a> name, {<a href="../dart_core/int.html">int</a> version, void onUpgradeNeeded(VersionChangeEvent), void onBlocked(Event)}) <a class="anchor-link" href="#open"
              title="Permalink to IdbFactory.open">#</a></h4>
<div class="doc">
        <div class="mdn">
        <div class="warning"><strong>Warning:</strong> The description documents the old specification. Some browsers still implement this method. The specifications have changed, but the changes have not yet been implemented by all browser. See the compatibility table for more information.</div>
<p>Request opening a <a title="en/IndexedDB#gloss database connection" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_database_connection">connection to a database</a>. The method returns &nbsp;an IDBRequest object&nbsp;immediately, and performs the opening operation asynchronously.&nbsp;</p>
<p>The opening operation—which is performed in a separate thread—consists of the following steps:</p>
<ol> <li>If a database named <code>myAwesomeDatabase</code> already exists: <ul> <li>Wait until any existing <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transactions have finished.</li> <li>If the database has a deletion pending, wait until it has been deleted.</li> </ul> </li> <li>If no database with that name exists, create a database with the provided name, with the empty string as its version, and no object stores.</li> <li>Create a connection to the database.</li>
</ol>
<p>If the operation is successful, an <a title="en/IndexedDB/IDBSuccessEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent">IDBSuccessEvent</a> is fired on the request object that is returned from this method, with its <a title="en/IndexedDB/IDBSuccessEvent#attr result" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent#attr_result">result</a> attribute set to the new <a title="en/IndexedDB/IDBDatabase" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">IDBDatabase</a> object for the connection.</p>
<p>If an error occurs while the database connection is being opened, then an <a title="en/IndexedDB/IDBErrorEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent">error event</a> is fired on the request object returned from this method, with its <a title="en/IndexedDB/IDBErrorEvent#attr code" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_code"><code>code</code></a> and&nbsp; <code><a title="en/IndexedDB/IDBErrorEvent#attr message" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_message">message</a></code> set to appropriate values.</p>

<div id="section_5"><span id="Parameters"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the database.</dd> <dt>version</dt> <dd>The version of the database.</dd>
</dl>
</div><div id="section_6"><span id="Returns"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBRequest" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBRequest">IDBRequest</a></code></dt> <dd>A request object on which subsequent events related to this request are fired. In the latest draft of the specification, which has not yet been implemented by browsers, the returned object is <code>IDBOpenRequest</code>.</dd>
</dl>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@DomName('IDBFactory.open')
Future&lt;Database&gt; open(String name,
   {int version, void onUpgradeNeeded(VersionChangeEvent),
   void onBlocked(Event)}) {
 if ((version == null) != (onUpgradeNeeded == null)) {
   return new Future.error(new ArgumentError(
       'version and onUpgradeNeeded must be specified together'));
 }
 try {
   var request;
   if (version != null) {
     request = $dom_open(name, version);
   } else {
     request = $dom_open(name);
   }

   if (onUpgradeNeeded != null) {
     request.onUpgradeNeeded.listen(onUpgradeNeeded);
   }
   if (onBlocked != null) {
     request.onBlocked.listen(onBlocked);
   }
   return _completeRequest(request);
 } catch (e, stacktrace) {
   return new Future.error(e, stacktrace);
 }
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="toString">
<button class="show-code">Code</button>
<a href="../dart_core/String.html">String</a> <strong>toString</strong>() <a class="anchor-link" href="#toString"
              title="Permalink to IdbFactory.toString">#</a></h4>
<div class="inherited-from">inherited from Interceptor </div><div class="doc">
<div class="inherited">
<p>Returns a string representation of this object.</p>
<div class="docs-inherited-from">docs inherited from <a href="../dart_core/Object.html">Object</a> </div></div>
<pre class="source">
String toString() =&gt; Primitives.objectToString(this);
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_deleteDatabase">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/OpenDBRequest.html">OpenDBRequest</a> <strong>$dom_deleteDatabase</strong>(<a href="../dart_core/String.html">String</a> name) <a class="anchor-link" href="#$dom_deleteDatabase"
              title="Permalink to IdbFactory.$dom_deleteDatabase">#</a></h4>
<div class="doc">
        <div class="mdn">
        <p>Request deleting a database. The method returns&nbsp;&nbsp;an IDBRequest object&nbsp;immediately, and performs the deletion operation&nbsp;asynchronously.</p>
<p>The deletion operation (performed in a different thread) consists of the following steps:</p>
<ol> <li>If there is no database with the given name, exit successfully.</li> <li>Fire an <a title="en/IndexedDB/IDBVersionChangeEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent">IDBVersionChangeEvent</a> at all connection objects connected to the named database, with <code><a title="en/IndexedDB/IDBVersionChangeEvent#attr version" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent#attr_version">version</a></code> set to <code>null</code>.</li> <li>If any connection objects connected to the database are still open, fire a <code>blocked</code> event at the request object returned by the <code>deleteDatabase</code> method, using <a title="en/IndexedDB/IDBVersionChangeEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent">IDBVersionChangeEvent</a> with <code><a title="en/IndexedDB/IDBVersionChangeEvent#attr version" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBVersionChangeEvent#attr_version">version</a></code> set to <code>null</code>.</li> <li>Wait until all open connections to the database are closed.</li> <li>Delete the database.</li>
</ol>
<p>If the database is successfully deleted, then an <a title="en/IndexedDB/IDBSuccessEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent">IDBSuccessEvent</a> is fired on the request object returned from this method, with its <code><a title="en/IndexedDB/IDBSuccessEvent#attr result" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent#attr_result">result</a></code> set to <code>null</code>.</p>
<p>If an error occurs while the database is being deleted, then an error event is fired on the request object that is returned from this method, with its <code><a title="en/IndexedDB/IDBErrorEvent#attr code" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_code">code</a></code> and <code><a title="en/IndexedDB/IDBErrorEvent#attr message" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_message">message</a></code> set to appropriate values.</p>
<p><strong>Tip:</strong> If the browser you are using hasn't implemented this yet, you can delete the object stores one by one, thus effectively removing the database.</p>

<div id="section_8"><span id="Parameters_2"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the database.</dd>
</dl>
</div><div id="section_9"><span id="Returns_2"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBRequest" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBRequest">IDBRequest</a></code></dt> <dd>A request object on which subsequent events related to this request are fired. In the latest draft of the specification, which has not yet been implemented by browsers, the returned object is <code>IDBOpenRequest</code>.</dd>
</dl>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@JSName('deleteDatabase')
@DomName('IDBFactory.deleteDatabase')
@DocsEditable
OpenDBRequest $dom_deleteDatabase(String name) native;
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_open">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/OpenDBRequest.html">OpenDBRequest</a> <strong>$dom_open</strong>(<a href="../dart_core/String.html">String</a> name, [<a href="../dart_core/int.html">int</a> version]) <a class="anchor-link" href="#$dom_open"
              title="Permalink to IdbFactory.$dom_open">#</a></h4>
<div class="doc">
        <div class="mdn">
        <div class="warning"><strong>Warning:</strong> The description documents the old specification. Some browsers still implement this method. The specifications have changed, but the changes have not yet been implemented by all browser. See the compatibility table for more information.</div>
<p>Request opening a <a title="en/IndexedDB#gloss database connection" rel="internal" href="https://developer.mozilla.org/en/IndexedDB#gloss_database_connection">connection to a database</a>. The method returns &nbsp;an IDBRequest object&nbsp;immediately, and performs the opening operation asynchronously.&nbsp;</p>
<p>The opening operation—which is performed in a separate thread—consists of the following steps:</p>
<ol> <li>If a database named <code>myAwesomeDatabase</code> already exists: <ul> <li>Wait until any existing <code><a title="en/IndexedDB/IDBTransaction#VERSION CHANGE" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBTransaction#VERSION_CHANGE">VERSION_CHANGE</a></code> transactions have finished.</li> <li>If the database has a deletion pending, wait until it has been deleted.</li> </ul> </li> <li>If no database with that name exists, create a database with the provided name, with the empty string as its version, and no object stores.</li> <li>Create a connection to the database.</li>
</ol>
<p>If the operation is successful, an <a title="en/IndexedDB/IDBSuccessEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent">IDBSuccessEvent</a> is fired on the request object that is returned from this method, with its <a title="en/IndexedDB/IDBSuccessEvent#attr result" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBSuccessEvent#attr_result">result</a> attribute set to the new <a title="en/IndexedDB/IDBDatabase" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBDatabase">IDBDatabase</a> object for the connection.</p>
<p>If an error occurs while the database connection is being opened, then an <a title="en/IndexedDB/IDBErrorEvent" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent">error event</a> is fired on the request object returned from this method, with its <a title="en/IndexedDB/IDBErrorEvent#attr code" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_code"><code>code</code></a> and&nbsp; <code><a title="en/IndexedDB/IDBErrorEvent#attr message" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBErrorEvent#attr_message">message</a></code> set to appropriate values.</p>

<div id="section_5"><span id="Parameters"></span><h5 class="editable">Parameters</h5>
<dl> <dt>name</dt> <dd>The name of the database.</dd> <dt>version</dt> <dd>The version of the database.</dd>
</dl>
</div><div id="section_6"><span id="Returns"></span><h5 class="editable">Returns</h5>
<dl> <dt><code><a title="en/IndexedDB/IDBRequest" rel="internal" href="https://developer.mozilla.org/en/IndexedDB/IDBRequest">IDBRequest</a></code></dt> <dd>A request object on which subsequent events related to this request are fired. In the latest draft of the specification, which has not yet been implemented by browsers, the returned object is <code>IDBOpenRequest</code>.</dd>
</dl>
</div>
        <div class="mdn-note"><a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">from MDN</a></div>
        </div>
        
<pre class="source">
@JSName('open')
@DomName('IDBFactory.open')
@DocsEditable
@Returns('Request')
@Creates('Request')
@Creates('Database')
OpenDBRequest $dom_open(String name, [int version]) native;
</pre>
</div>
</div>
<div class="method"><h4 id="$dom_webkitGetDatabaseNames">
<button class="show-code">Code</button>
<a href="../dart_indexed_db/Request.html">Request</a> <strong>$dom_webkitGetDatabaseNames</strong>() <a class="anchor-link" href="#$dom_webkitGetDatabaseNames"
              title="Permalink to IdbFactory.$dom_webkitGetDatabaseNames">#</a></h4>
<div class="doc">
<pre class="source">
@JSName('webkitGetDatabaseNames')
@DomName('IDBFactory.webkitGetDatabaseNames')
@DocsEditable
@SupportedBrowser(SupportedBrowser.CHROME)
@SupportedBrowser(SupportedBrowser.SAFARI)
@Experimental
@Returns('Request')
@Creates('Request')
@Creates('DomStringList')
Request $dom_webkitGetDatabaseNames() native;
</pre>
</div>
</div>
</div>
          <p class="mdn-attribution">
          <a href="https://developer.mozilla.org">
            <img src="../mdn-logo-tiny.png" class="mdn-logo" />
          </a>
          This page includes <a href="https://developer.mozilla.org/en/IndexedDB/IDBFactory">content</a> from the
          <a href="http://www.mozilla.org/">Mozilla Foundation</a> that is graciously
          <a href="https://developer.mozilla.org/Project:Copyrights">licensed</a> under a
          <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons: Attribution-Sharealike license</a>.
          Mozilla has no other association with Dart or dartlang.org. We
          encourage you to improve the web by
          <a href="https://developer.mozilla.org/Project:en/How_to_Help">contributing</a> to
          <a href="https://developer.mozilla.org">The Mozilla Developer Network</a>.
          </p>
          
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-06-21 06:35:22.055</div>
<div>        <p>Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this
        page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution
        3.0 License</a>, and code samples are licensed under the
        <a href="http://code.google.com/google_bsd_license.html">BSD License</a>.</p>
        <p><a href="http://www.dartlang.org/tos.html">Terms of Service</a> |
        <a href="http://www.google.com/intl/en/privacy/privacy-policy.html">Privacy Policy</a></p>
        </div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
